{% extends "base.html" %}

{% load static %}

{% block content %}
<div class="row" style="padding-top: 3rem">
  <div class="col-2">
    <center><img src="{% static 'img/avatar.svg' %}" alt="Profile Picture" class="rounded float-left"></center>
    <br><center><small>@{{ user.username }}</small></center>
  </div>
  <div class="col">
    {% if form.errors %}
      {% for field in form %}
        {% for error in form.errors %}
          <div class="alert alert-danger">
            {{ error }}
          </div>
        {% endfor %}
      {% endfor %}
      {% for error in form.non_field_errors %}
        <div class="alert alert-danger">
          {{ error }}
        </div>
      {% endfor %}
    {% endif %}
    <form action="/{{ request.user.username }}/" method="POST" novalidate>
      {% csrf_token %}
      {% for field in form %}
        <div class="form-group">
          {{ field }}
        </div>
      {% endfor %}

      <input type="hidden" value="{{ request.path }}" name="redirect">
      <input class="btn btn-primary" type="submit" value="Post">
    </form>
  </div>
</div>
<div class="row" style="padding-top:3rem">
  <div class="col-2">
  </div>
  <div class="col">
    {% if user.tweets.all %}
      {% for tweet in user.tweets.all %}
        <div class="card text-white bg-info mb-3">
          <div class="card-header">@{{tweet.user.username}}</div>
          <div class="card-body">
            <small class="card-title">{{ tweet.created_at }}</small>
            <h5 class="card-text">{{ tweet.message }}</h5>
          </div>
        </div>
      {% endfor %}
    {% else %}
      Nothing is here!
    {% endif %}
  </div>
</div>
{% endblock %}